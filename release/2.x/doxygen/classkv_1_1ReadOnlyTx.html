<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CCF: kv::ReadOnlyTx Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">CCF
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacekv.html">kv</a></li><li class="navelem"><a class="el" href="classkv_1_1ReadOnlyTx.html">ReadOnlyTx</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classkv_1_1ReadOnlyTx-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">kv::ReadOnlyTx Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="tx_8h_source.html">tx.h</a>&gt;</code></p>

<p>Inherits <a class="el" href="classkv_1_1BaseTx.html">kv::BaseTx</a>.</p>

<p>Inherited by <a class="el" href="classkv_1_1Tx.html">kv::Tx</a>.</p>
<div class="dynheader">
Collaboration diagram for kv::ReadOnlyTx:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classkv_1_1ReadOnlyTx__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9c6abef0f1e3d42f76d32b74dd314ef0"><td class="memTemplParams" colspan="2">template&lt;class M &gt; </td></tr>
<tr class="memitem:a9c6abef0f1e3d42f76d32b74dd314ef0"><td class="memTemplItemLeft" align="right" valign="top">M::ReadOnlyHandle *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classkv_1_1ReadOnlyTx.html#a9c6abef0f1e3d42f76d32b74dd314ef0">ro</a> (M &amp;m)</td></tr>
<tr class="separator:a9c6abef0f1e3d42f76d32b74dd314ef0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76ef7850eb473720811229bd3c7ba5a7"><td class="memTemplParams" colspan="2">template&lt;class M &gt; </td></tr>
<tr class="memitem:a76ef7850eb473720811229bd3c7ba5a7"><td class="memTemplItemLeft" align="right" valign="top">M::ReadOnlyHandle *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classkv_1_1ReadOnlyTx.html#a76ef7850eb473720811229bd3c7ba5a7">ro</a> (const std::string &amp;map_name)</td></tr>
<tr class="separator:a76ef7850eb473720811229bd3c7ba5a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9b6a700f39f7683588730c1d0aa133f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkv_1_1ReadOnlyTx.html#ae9b6a700f39f7683588730c1d0aa133f">BaseTx</a> (<a class="el" href="classkv_1_1AbstractStore.html">AbstractStore</a> *_store)</td></tr>
<tr class="separator:ae9b6a700f39f7683588730c1d0aa133f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb002e29920a6ff757d769f893441f47"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkv_1_1ReadOnlyTx.html#adb002e29920a6ff757d769f893441f47">BaseTx</a> (const <a class="el" href="classkv_1_1BaseTx.html">BaseTx</a> &amp;that)=delete</td></tr>
<tr class="separator:adb002e29920a6ff757d769f893441f47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classkv_1_1BaseTx"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classkv_1_1BaseTx')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classkv_1_1BaseTx.html">kv::BaseTx</a></td></tr>
<tr class="memitem:ae9b6a700f39f7683588730c1d0aa133f inherit pub_methods_classkv_1_1BaseTx"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkv_1_1BaseTx.html#ae9b6a700f39f7683588730c1d0aa133f">BaseTx</a> (<a class="el" href="classkv_1_1AbstractStore.html">AbstractStore</a> *_store)</td></tr>
<tr class="separator:ae9b6a700f39f7683588730c1d0aa133f inherit pub_methods_classkv_1_1BaseTx"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb002e29920a6ff757d769f893441f47 inherit pub_methods_classkv_1_1BaseTx"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkv_1_1BaseTx.html#adb002e29920a6ff757d769f893441f47">BaseTx</a> (const <a class="el" href="classkv_1_1BaseTx.html">BaseTx</a> &amp;that)=delete</td></tr>
<tr class="separator:adb002e29920a6ff757d769f893441f47 inherit pub_methods_classkv_1_1BaseTx"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77a4ab709ed55b1df99cc586a2751c77 inherit pub_methods_classkv_1_1BaseTx"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classkv_1_1BaseTx.html">BaseTx</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkv_1_1BaseTx.html#a77a4ab709ed55b1df99cc586a2751c77">operator=</a> (<a class="el" href="classkv_1_1BaseTx.html">BaseTx</a> &amp;&amp;other)=default</td></tr>
<tr class="separator:a77a4ab709ed55b1df99cc586a2751c77 inherit pub_methods_classkv_1_1BaseTx"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab766fa4c48e2df1758fdf9c37b5d342f inherit pub_methods_classkv_1_1BaseTx"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkv_1_1BaseTx.html#ab766fa4c48e2df1758fdf9c37b5d342f">~BaseTx</a> ()</td></tr>
<tr class="separator:ab766fa4c48e2df1758fdf9c37b5d342f inherit pub_methods_classkv_1_1BaseTx"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a357e6f6875341ba8ad99f6eccc018ad1 inherit pub_methods_classkv_1_1BaseTx"><td class="memItemLeft" align="right" valign="top">std::optional&lt; <a class="el" href="classcrypto_1_1Sha256Hash.html">crypto::Sha256Hash</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkv_1_1BaseTx.html#a357e6f6875341ba8ad99f6eccc018ad1">get_root_at_read_version</a> ()</td></tr>
<tr class="separator:a357e6f6875341ba8ad99f6eccc018ad1 inherit pub_methods_classkv_1_1BaseTx"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classkv_1_1BaseTx"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classkv_1_1BaseTx')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classkv_1_1BaseTx.html">kv::BaseTx</a></td></tr>
<tr class="memitem:a6ab24737133fa0b849ce5b7b3407def7 inherit pro_methods_classkv_1_1BaseTx"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkv_1_1BaseTx.html#a6ab24737133fa0b849ce5b7b3407def7">retain_change_set</a> (const std::string &amp;map_name, std::unique_ptr&lt; <a class="el" href="structkv_1_1untyped_1_1ChangeSet.html">untyped::ChangeSet</a> &gt; &amp;&amp;change_set, const std::shared_ptr&lt; <a class="el" href="classkv_1_1AbstractMap.html">AbstractMap</a> &gt; &amp;abstract_map)</td></tr>
<tr class="separator:a6ab24737133fa0b849ce5b7b3407def7 inherit pro_methods_classkv_1_1BaseTx"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afed30e53e24d420a447fc73ac0e1d8f9 inherit pro_methods_classkv_1_1BaseTx"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkv_1_1BaseTx.html#afed30e53e24d420a447fc73ac0e1d8f9">retain_handle</a> (const std::string &amp;map_name, std::unique_ptr&lt; <a class="el" href="classkv_1_1AbstractHandle.html">AbstractHandle</a> &gt; &amp;&amp;handle)</td></tr>
<tr class="separator:afed30e53e24d420a447fc73ac0e1d8f9 inherit pro_methods_classkv_1_1BaseTx"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b3b9b8aeaa7017832e3340ef5d7f1e5 inherit pro_methods_classkv_1_1BaseTx"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structkv_1_1MapChanges.html">MapChanges</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkv_1_1BaseTx.html#a9b3b9b8aeaa7017832e3340ef5d7f1e5">get_map_and_change_set_by_name</a> (const std::string &amp;map_name)</td></tr>
<tr class="separator:a9b3b9b8aeaa7017832e3340ef5d7f1e5 inherit pro_methods_classkv_1_1BaseTx"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afece13740362e00b8840deaaf925532e inherit pro_methods_classkv_1_1BaseTx"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="classkv_1_1AbstractHandle.html">AbstractHandle</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkv_1_1BaseTx.html#afece13740362e00b8840deaaf925532e">get_possible_handles</a> (const std::string &amp;map_name)</td></tr>
<tr class="separator:afece13740362e00b8840deaaf925532e inherit pro_methods_classkv_1_1BaseTx"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a6fc33cc2555d6c4b488a71626ed2f3 inherit pro_methods_classkv_1_1BaseTx"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkv_1_1BaseTx.html#a0a6fc33cc2555d6c4b488a71626ed2f3">compacted_version_conflict</a> (const std::string &amp;map_name)</td></tr>
<tr class="separator:a0a6fc33cc2555d6c4b488a71626ed2f3 inherit pro_methods_classkv_1_1BaseTx"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad96f9371e28155e8cdf3585acee00532 inherit pro_methods_classkv_1_1BaseTx"><td class="memTemplParams" colspan="2">template&lt;class THandle &gt; </td></tr>
<tr class="memitem:ad96f9371e28155e8cdf3585acee00532 inherit pro_methods_classkv_1_1BaseTx"><td class="memTemplItemLeft" align="right" valign="top">THandle *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classkv_1_1BaseTx.html#ad96f9371e28155e8cdf3585acee00532">get_handle_by_name</a> (const std::string &amp;map_name)</td></tr>
<tr class="separator:ad96f9371e28155e8cdf3585acee00532 inherit pro_methods_classkv_1_1BaseTx"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classkv_1_1BaseTx"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classkv_1_1BaseTx')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classkv_1_1BaseTx.html">kv::BaseTx</a></td></tr>
<tr class="memitem:a1cd3c39cde035aba34529db4c3ebea76 inherit pro_attribs_classkv_1_1BaseTx"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="structkv_1_1BaseTx_1_1PrivateImpl.html">PrivateImpl</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkv_1_1BaseTx.html#a1cd3c39cde035aba34529db4c3ebea76">pimpl</a></td></tr>
<tr class="separator:a1cd3c39cde035aba34529db4c3ebea76 inherit pro_attribs_classkv_1_1BaseTx"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26d7b76aaec06e6bf071d25ccf4bb8d6 inherit pro_attribs_classkv_1_1BaseTx"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacekv.html#a834ddeaf91bceda2885043f61cce1a2f">OrderedChanges</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkv_1_1BaseTx.html#a26d7b76aaec06e6bf071d25ccf4bb8d6">all_changes</a></td></tr>
<tr class="separator:a26d7b76aaec06e6bf071d25ccf4bb8d6 inherit pro_attribs_classkv_1_1BaseTx"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5976bf3713fef6d691e755ab9ec9c6a2 inherit pro_attribs_classkv_1_1BaseTx"><td class="memItemLeft" align="right" valign="top">std::optional&lt; <a class="el" href="classcrypto_1_1Sha256Hash.html">crypto::Sha256Hash</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkv_1_1BaseTx.html#a5976bf3713fef6d691e755ab9ec9c6a2">root_at_read_version</a> = std::nullopt</td></tr>
<tr class="separator:a5976bf3713fef6d691e755ab9ec9c6a2 inherit pro_attribs_classkv_1_1BaseTx"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Used to create read-only handles for accessing a Map.</p>
<p >Acquiring a handle will create the map in the KV if it does not yet exist. The returned handles can view state written by previous transactions, and any additional modifications made in this transaction. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ae9b6a700f39f7683588730c1d0aa133f" name="ae9b6a700f39f7683588730c1d0aa133f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9b6a700f39f7683588730c1d0aa133f">&#9670;&nbsp;</a></span>BaseTx() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">kv::BaseTx::BaseTx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classkv_1_1AbstractStore.html">AbstractStore</a> *&#160;</td>
          <td class="paramname"><em>_store</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="adb002e29920a6ff757d769f893441f47" name="adb002e29920a6ff757d769f893441f47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb002e29920a6ff757d769f893441f47">&#9670;&nbsp;</a></span>BaseTx() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">kv::BaseTx::BaseTx </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classkv_1_1BaseTx.html">BaseTx</a> &amp;&#160;</td>
          <td class="paramname"><em>that</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a76ef7850eb473720811229bd3c7ba5a7" name="a76ef7850eb473720811229bd3c7ba5a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76ef7850eb473720811229bd3c7ba5a7">&#9670;&nbsp;</a></span>ro() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">M::ReadOnlyHandle * kv::ReadOnlyTx::ro </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>map_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Get a read-only handle by map name. Map type must be specified as explicit template parameter.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">map_name</td><td>Name of map </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9c6abef0f1e3d42f76d32b74dd314ef0" name="a9c6abef0f1e3d42f76d32b74dd314ef0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c6abef0f1e3d42f76d32b74dd314ef0">&#9670;&nbsp;</a></span>ro() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">M::ReadOnlyHandle * kv::ReadOnlyTx::ro </td>
          <td>(</td>
          <td class="paramtype">M &amp;&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Get a read-only handle from a map instance.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td>Map instance </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/ccf/<a class="el" href="tx_8h_source.html">tx.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
